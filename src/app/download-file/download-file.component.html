<app-menu></app-menu>
<div class="container" style="width:700px;background-color: rgb(221, 226, 238);">
    <!--  -->
    <form #userForm="ngForm" (ngSubmit)="onclick(userForm.value)"
    method="post" enctype="multipart/form-data"
    >
    <div class="form-group row">
        <div class="col-12 col-sm-3"></div>
    </div>
        <div class="form-group row">
            <div class="col-12 col-sm-3"></div>
            <div class="col-12 col-sm-5  mt-3">
                <span class="p-float-label">
                    <!-- [(ngModel)]="userName" -->
                    <input id="yearTax" name="yearTax" type="text" pattern="[0-9]*" [(ngModel)]="yearTax" pInputText
                        ngModel required minlength="4" maxlength="4" style="width:8rem ;" #yearTaxLocal="ngModel">
                    <label for="yearTax">ปีภาษี</label>
                </span>
            </div>
        </div>



       
        <div class="form-group row">
            <div class="col-12 "></div>
            <div class="col-12 col-sm-5 offset-sm-3 mt-3">
                <!-- !userForm.form.valid -->
                <button pButton pRipple type="submit" label="รายงาน" [disabled]="!userForm.form.valid"
                    class="p-button-rounded">
                    <i class="pi pi-check" style="font-size: 1rem"></i>

                </button>
            </div>
        </div>
        <div *ngIf="yearTaxLocal.errors && (yearTaxLocal.dirty || yearTaxLocal.touched)" class="alert alert-danger">
            <div [hidden]="!yearTaxLocal.errors.required">

                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>การบันทึกข้อมูล!</strong> ต้องบันทึกปีภาษี
                    <!-- <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> -->
                </div>
            </div>

            <div [hidden]="!yearTaxLocal.errors.minlength">

                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>การบันทึกข้อมูล!</strong> ต้องบันทึกปีภาษีความยาว 4 ตัวอักษร
                    <!-- <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> -->
                </div>
            </div>
            <div [hidden]="!yearTaxLocal.errors.pattern">

                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>การบันทึกข้อมูล!</strong> ต้องบันทึกปีภาษีความยาว 4 ตัวอักษร และเป็นตัวเลข
                    <!-- <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> -->
                </div>
            </div>
        </div>



        
        <p-dialog header="ข้อความ" [modal]="true" [draggable]="false" [resizable]="false" [style]="{width: '50vw'}"
        [baseZIndex]="10000" [(visible)]="display" position="top">
  
  
        <p style="color: rgb(247, 7, 7);"> <i class="pi pi-spin pi-spinner" style="font-size: 2rem"></i> 
            {{msg_err}} </p>
        <ng-template pTemplate="footer">
          <p-button icon="pi pi-check" (click)="display=false" label="ตกลง" styleClass="p-button-text"></p-button>
        </ng-template>
      </p-dialog>
    </form>
</div>